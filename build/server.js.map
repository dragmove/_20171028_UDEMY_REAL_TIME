{"version":3,"sources":["webpack:///webpack/bootstrap dff7a4d1e122579c67b9","webpack:///external \"webpack\"","webpack:///./src/server/server.js","webpack:///external \"source-map-support/register\"","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///external \"socket.io\"","webpack:///external \"chalk\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///./webpack.client.config.js","webpack:///external \"path\"","webpack:///external \"extract-text-webpack-plugin\""],"names":["isDevelopment","process","env","NODE_ENV","app","server","Server","io","USE_WEBPACK","webpackMiddleware","require","webpackHotMiddleware","webpack","clientConfig","compiler","use","publicPath","stats","colors","chunks","assets","timings","modules","hash","version","console","log","bgRed","set","static","useExternalStyles","get","req","res","render","on","socket","request","connection","remoteAddress","port","startServer","listen","path","ExtractTextPlugin","dirname","resolve","vendorModules","createConfig","isDebug","devTool","plugins","optimize","CommonsChunkPlugin","name","filename","cssLoader","test","loader","sassLoader","appEntry","push","UglifyJsPlugin","sourceMap","extract","fallback","HotModuleReplacementPlugin","splice","devtool","entry","application","vendor","output","join","alias","shared","module","rules","exclude","exports"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dff7a4d1e122579c67b9","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 0\n// module chunks = 0","import 'source-map-support/register';\n\nimport express from 'express';\nimport http from 'http';\nimport socketIo from 'socket.io';\nimport chalk from 'chalk';\n\nconst isDevelopment = process.env.NODE_ENV !== 'production';\n\n/*\n * socket\n */\nconst app = express();\nconst server = new http.Server(app);\nconst io = socketIo(server);\n\n/*\n * client webpack\n */\nif(process.env.USE_WEBPACK === 'true') {\n  var webpackMiddleware = require('webpack-dev-middleware'),\n    webpackHotMiddleware = require('webpack-hot-middleware'),\n    webpack = require('webpack'),\n    clientConfig = require('../../webpack.client.config');\n\n  const compiler = webpack(clientConfig(true));\n\n  app.use(webpackMiddleware(compiler, {\n    publicPath: '/build/',\n    stats: {\n      colors: true,\n      chunks: false,\n      assets: false,\n      timings: false,\n      modules: false,\n      hash: false,\n      version: false\n    }\n  }));\n\n  app.use(webpackHotMiddleware(compiler));\n\n  console.log(chalk.bgRed('Using Webpack Dev MiddleWare. this is for dev only.'));\n}\n\n/*\n * configure Express\n */\napp.set('view engine', 'pug');\n\napp.use(express.static('public'));\n\nconst useExternalStyles = !isDevelopment;\n\napp.get('/', (req, res) => {\n  res.render('index', {\n    useExternalStyles\n  });\n});\n\n/*\n * modules\n */\n\n/*\n * socket\n */\nio.on('connection', socket => {\n  console.log(`Got connection from ${socket.request.connection.remoteAddress}`);\n});\n\n/*\n * start up\n */\nconst port = process.env.port || 3000;\n\nfunction startServer() {\n  server.listen(port, () => {\n    console.log(`Started http server on ${port}`);\n  });\n}\n\nstartServer();\n\n\n// WEBPACK FOOTER //\n// ./src/server/server.js","module.exports = require(\"source-map-support/register\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"source-map-support/register\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"socket.io\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"socket.io\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"chalk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chalk\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"webpack-hot-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-hot-middleware\"\n// module id = 8\n// module chunks = 0","var path = require('path'),\n  webpack = require('webpack'),\n  ExtractTextPlugin = require('extract-text-webpack-plugin'),\n  dirname = path.resolve('./');\n\nconst vendorModules = ['jquery', 'lodash'];\n\nfunction createConfig(isDebug) {\n  const devTool = (isDebug) ? 'eval-source-map' : 'source-map';\n\n  const plugins = [new webpack.optimize.CommonsChunkPlugin({\n    name: 'vendor',\n    filename: 'vendor.js'\n  })];\n\n  let cssLoader = {\n    test: /\\.css$/,\n    use: [\n      {loader: \"style-loader\"},\n      {loader: \"css-loader\"},\n    ]\n  };\n\n  let sassLoader = {\n    test: /\\.scss$/,\n    use: [\n      {loader: \"style-loader\"},\n      {loader: \"css-loader\"},\n      {loader: \"sass-loader\"},\n    ]\n  };\n\n  const appEntry = ['./src/client/application.js'];\n\n  if(!isDebug) {\n    plugins.push(new webpack.optimize.UglifyJsPlugin({\n      sourceMap: true\n    }));\n\n    plugins.push(new ExtractTextPlugin('[name].css'));\n\n    // cssLoader.loader = ExtractTextPlugin.extract('style', 'css');\n    cssLoader = {\n      test: /\\.css$/,\n\n      use: ExtractTextPlugin.extract({\n        fallback: 'style-loader',\n        use: ['css-loader']\n      })\n    };\n\n    // sassLoader.loader = ExtractTextPlugin.extract('style', 'css!sass');\n    sassLoader = {\n      test: /\\.scss$/,\n\n      use: ExtractTextPlugin.extract({\n        fallback: 'style-loader',\n        use: ['css-loader', 'sass-loader']\n      })\n    };\n\n  } else {\n    plugins.push(new webpack.HotModuleReplacementPlugin());\n\n    appEntry.splice(0, 0, 'webpack-hot-middleware/client');\n  }\n\n  return {\n    devtool: devTool,\n    entry: {\n      application: appEntry,\n      vendor: vendorModules\n    },\n    output: {\n      filename: '[name].js',\n      path: path.join(dirname, 'public', 'build'),\n      publicPath: '/build/'\n    },\n    resolve: {\n      alias: {\n        shared: path.join(dirname, 'src', 'shared')\n      }\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.js$/,\n          exclude: /node_modules/,\n          loader: 'babel-loader'\n        },\n\n        {\n          test: /\\.js$/,\n          exclude: /node_modules/,\n          loader: 'eslint-loader',\n        },\n\n        {\n          test: /\\.(gif|png|jpg|jpeg)$/,\n          use: [{\n            loader: 'file-loader'\n          }]\n        },\n\n        {\n          test: /\\.(woff|woff2|ttf|eot|svg)$/,\n          use: [{\n            loader: 'url-loader'\n          }]\n        },\n\n        cssLoader,\n\n        sassLoader\n      ]\n    },\n    plugins: plugins\n  };\n}\n\nmodule.exports = createConfig;\n\n\n// WEBPACK FOOTER //\n// ./webpack.client.config.js","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"extract-text-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"extract-text-webpack-plugin\"\n// module id = 11\n// module chunks = 0"],"sourceRoot":""}